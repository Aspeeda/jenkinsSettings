jenkins:
  systemMessage: "Jenkins –Ω–∞—Å—Ç—Ä–æ–µ–Ω —á–µ—Ä–µ–∑ JCasC üöÄ"

  securityRealm:
    local:
      allowsSignup: false
      users:
        - id: "mdi"
          password: "mdi"  

  authorizationStrategy:
    loggedInUsersCanDoAnything:
      allowAnonymousRead: false

  # credentials:
  #   system:
  #     domainCredentials:
  #       - credentials:
  #           - usernamePassword:
  #               id: "git-credentials"
  #               username: "mdi"
  #               password: "mdi"
  #           - string:
  #               id: "-1002357364323"
  #               secret: "your-telegram-bot-token"

  jobs:
    - script: >
        pipelineJob('autotests-pipeline') {
          description('Pipeline –¥–ª—è –∑–∞–ø—É—Å–∫–∞ UI –∏ API –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤')
          parameters {
            choiceParam('TEST_TYPE', ['UI', 'API'], '–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ç–µ—Å—Ç–æ–≤')
            stringParam('REFSPEC', 'main', '–í–µ—Ç–∫–∞ –¥–ª—è —Å–±–æ—Ä–∫–∏')
            booleanParam('RUN_IN_DOCKER', true, '–ó–∞–ø—É—Å–∫ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ')
          }
          definition {
            cpsScm {
              scm {
                git {
                  remote('https://github.com/Aspeeda/jenkinsSettings.git')
                  branch('main')
                  credentialsId('git-credentials')
                }
              }
              scriptPath('Jenkinsfile')
            }
          }
          triggers {
            cron('H 2 * * *')  // –ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 2:00
          }
        }

  agents:
    - permanent:
        name: "maven"
        remoteFS: "/home/jenkins"
        launcher:
          jnlp:
            workDirSettings:
              disabled: false
              failIfWorkDirIsMissing: false
              internalDir: "remoting"
        retentionStrategy: "always"